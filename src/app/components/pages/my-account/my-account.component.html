<div class="body parent mt-75">
  <form [formGroup]="inputForm" class="d-flex flex-column container div1">
    <!-- Company Input -->
    <mat-form-field class="mt-4">
      <mat-label>
        {{ 'MY_ACCOUNT.COMPANY' | translate }}
      </mat-label>
      <mat-select formControlName="companyName" required>
        <mat-option *ngFor="let company of companies" [value]="company.name">
          {{ company.name }}
        </mat-option>
      </mat-select>
    </mat-form-field>
    <!-- Company Rating -->
    <div class="mt-3">
      <p class="d-block w-100">
        {{ 'MY_ACCOUNT.RATING' | translate }}
      </p>
      <mat-slider
        required
        thumbLabel="true"
        step="1"
        min="1"
        class="w-100"
        max="10"
        type="range"
        formControlName="rating"
      >
      </mat-slider>
    </div>
    <!-- Review Text -->
    <mat-form-field>
      <mat-label>
        {{ 'MY_ACCOUNT.DESCRIPTION' | translate }}
      </mat-label>
      <textarea
        matInput
        required
        style="resize: none;"
        formControlName="textExcerpt"
        cols="30"
        rows="10"
      >
      </textarea>
    </mat-form-field>
    <button [disabled]="!inputForm.valid" mat-raised-button (click)="create()">
      {{ 'MY_ACCOUNT.SUBMIT_BTN' | translate }}
    </button>
  </form>

  <form
    [formGroup]="accountChangesForm"
    class="d-flex flex-column container div2"
  >
    <!-- Linkedin Account -->
    <mat-form-field class="mt-3">
      <mat-label>
        {{ 'MY_ACCOUNT.LINKEDIN' | translate }}
      </mat-label>
      <input matInput formControlName="linkedInAccount" />
    </mat-form-field>
    <button (click)="requestVerification()" mat-raised-button color="accent">
      {{ 'MY_ACCOUNT.CONNECT_BTN' | translate }}
    </button>
    <hr />

    <!--Change Email-->
    <mat-form-field class="mt-3">
      <mat-label>
        {{ 'MY_ACCOUNT.EMAIL' | translate }}
      </mat-label>
      <input matInput formControlName="changeEmailInput" />
    </mat-form-field>
    <button (click)="changeEmail()" mat-raised-button color="accent">
      {{ 'MY_ACCOUNT.EMAIL_BTN' | translate }}
    </button>
    <hr />

    <!--Change Password-->
    <mat-form-field class="mt-3">
      <mat-label>
        {{ 'MY_ACCOUNT.OLD_PASS' | translate }}
      </mat-label>
      <input matInput formControlName="newPassword" type="password" />
    </mat-form-field>

    <mat-form-field class="mt-3">
      <mat-label>
        {{ 'MY_ACCOUNT.NEW_PASS' | translate }}
      </mat-label>
      <input matInput formControlName="newPasswordConfirm" type="password" />
    </mat-form-field>
    <button (click)="updatePassword()" mat-raised-button color="accent">
      {{ 'MY_ACCOUNT.CHANGE_PASS_BTN' | translate }}
    </button>
    <hr />

    <!-- Notifications control -->
    <!-- company notifications -->
    <mat-form-field>
      <mat-label>
        {{ 'MY_ACCOUNT.COMPANIES' | translate }}
      </mat-label>
      <mat-select formControlName="multipleCompanies" multiple>
        <mat-option *ngFor="let company of companies" [value]="company.name">{{
          company.name
        }}</mat-option>
      </mat-select>
    </mat-form-field>
    <mat-checkbox formControlName="myCompanyNotifications">{{
      'MY_ACCOUNT.COMPANY_REVIEWED_NOT' | translate
    }}</mat-checkbox>
    <mat-checkbox formControlName="companyAddedNotification">{{
      'MY_ACCOUNT.COMPANY_ADD_NOT' | translate
    }}</mat-checkbox>
    <hr />
    <!--Forgot Password -->
    <button
      (click)="toggleDialog()"
      class="mt-4 mb-small"
      mat-raised-button
      color="accent"
    >
      {{ 'MY_ACCOUNT.FORGOT_PASS_BTN' | translate }}
    </button>

    <button
      (click)="toggleAccountDel()"
      class="btn btn-danger mt-4 mb-small"
      mat-raised-button
    >
      {{ 'MY_ACCOUNT.DELETE_ACC_BTN' | translate }}
    </button>

    <!-- Password change confirmation modal -->
    <div class="dialog-container" *ngIf="showDialog">
      <div>
        <h5 mat-dialog-title>{{ 'CONFIRM_DIALOG.WARNING' | translate }}</h5>
        <h6>{{ 'CONFIRM_DIALOG.RESET_Q' | translate }}</h6>
        <hr />
        <div mat-dialog-actions>
          <button
            class="mr-3"
            mat-raised-button
            color="primary"
            (click)="forgotPasswordDialog()"
          >
            {{ 'CONFIRM_DIALOG.YES' | translate }}
          </button>
          <button (click)="toggleDialog()" mat-raised-button color="accent">
            {{ 'CONFIRM_DIALOG.CANCEL' | translate }}
          </button>
        </div>
      </div>
    </div>

    <!--Delete Account confirmation modal-->
    <div class="dialog-container" *ngIf="delAccDialog">
      <div>
        <h5 mat-dialog-title>{{ 'CONFIRM_DIALOG.WARNING' | translate }}</h5>
        <h6>{{ 'CONFIRM_DIALOG.DELETE_Q' | translate }}</h6>
        <hr />
        <div mat-dialog-actions>
          <button
            class="mr-3"
            mat-raised-button
            color="primary"
            (click)="deleteAccountDialog()"
          >
            {{ 'CONFIRM_DIALOG.YES' | translate }}
          </button>
          <button (click)="toggleAccountDel()" mat-raised-button color="accent">
            {{ 'CONFIRM_DIALOG.CANCEL' | translate }}
          </button>
        </div>
      </div>
    </div>
  </form>
</div>
