<div class="body parent mt-75">
  <form
    [formGroup]="inputForm"
    class="d-flex flex-column container div1"
    data-aos="fade-up"
  >
    <!-- Company Input -->
    <mat-form-field class="mt-4" data-aos="fade-up">
      <mat-label>
        {{ 'MY_ACCOUNT.COMPANY' | translate }}
      </mat-label>
      <mat-select formControlName="companyName" required data-aos="fade-up">
        <mat-option *ngFor="let company of companies" [value]="company.name">
          {{ company.name }}
        </mat-option>
      </mat-select>
    </mat-form-field>
    <!-- Company Rating -->
    <div class="mt-3" data-aos="fade-up">
      <p class="d-block w-100">
        {{ 'MY_ACCOUNT.RATING' | translate }}
      </p>
      <mat-slider
        required
        thumbLabel="true"
        step="1"
        min="1"
        class="w-100"
        max="10"
        type="range"
        formControlName="rating"
      >
      </mat-slider>
    </div>
    <!-- Review Text -->
    <mat-form-field data-aos="fade-up">
      <mat-label>
        {{ 'MY_ACCOUNT.DESCRIPTION' | translate }}
      </mat-label>
      <textarea
        matInput
        required
        style="resize: none;"
        formControlName="textExcerpt"
        cols="30"
        rows="10"
      >
      </textarea>
    </mat-form-field>

    <mat-form-field data-aos="fade-up">
      <mat-label style="color: var(--nephritis);">{{
        'MY_ACCOUNT.PROS' | translate
      }}</mat-label>
      <textarea
        matInput
        cols="30"
        rows="10"
        style="resize: none;"
        cols="30"
        rows="2"
        formControlName="reviewPros"
      ></textarea>
    </mat-form-field>

    <mat-form-field data-aos="fade-up">
      <mat-label style="color: var(--warn);">{{
        'MY_ACCOUNT.CONS' | translate
      }}</mat-label>
      <textarea
        matInput
        cols="30"
        rows="10"
        style="resize: none;"
        cols="30"
        rows="2"
        formControlName="reviewCons"
      ></textarea>
    </mat-form-field>

    <button
      [disabled]="!inputForm.valid"
      mat-raised-button
      (click)="create()"
      data-aos="fade-up"
    >
      {{ 'MY_ACCOUNT.SUBMIT_BTN' | translate }}
    </button>
  </form>

  <form
    [formGroup]="accountChangesForm"
    class="d-flex flex-column container div2"
  >
    <!-- Linkedin Account -->
    <mat-form-field class="mt-3" data-aos="fade-up">
      <mat-label>
        {{ 'MY_ACCOUNT.LINKEDIN' | translate }}
      </mat-label>
      <input matInput formControlName="linkedInAccount" />
    </mat-form-field>
    <button
      (click)="requestVerification()"
      mat-raised-button
      data-aos="fade-up"
    >
      {{ 'MY_ACCOUNT.CONNECT_BTN' | translate }}
    </button>
    <hr />

    <!--Change Email-->
    <mat-form-field class="mt-3" data-aos="fade-up">
      <mat-label>
        {{ 'MY_ACCOUNT.EMAIL' | translate }}
      </mat-label>
      <input matInput formControlName="changeEmailInput" />
    </mat-form-field>
    <button (click)="changeEmail()" mat-raised-button data-aos="fade-up">
      {{ 'MY_ACCOUNT.EMAIL_BTN' | translate }}
    </button>
    <hr />

    <!--Change Password-->
    <mat-form-field class="mt-3" data-aos="fade-up">
      <mat-label>
        {{ 'MY_ACCOUNT.OLD_PASS' | translate }}
      </mat-label>
      <input matInput formControlName="newPassword" type="password" />
    </mat-form-field>

    <mat-form-field class="mt-3" data-aos="fade-up">
      <mat-label>
        {{ 'MY_ACCOUNT.NEW_PASS' | translate }}
      </mat-label>
      <input matInput formControlName="newPasswordConfirm" type="password" />
    </mat-form-field>
    <button (click)="updatePassword()" mat-raised-button data-aos="fade-up">
      {{ 'MY_ACCOUNT.CHANGE_PASS_BTN' | translate }}
    </button>
    <hr />

    <!-- Notifications control -->
    <!-- company notifications -->
    <mat-form-field data-aos="fade-up">
      <mat-label>
        {{ 'MY_ACCOUNT.COMPANIES' | translate }}
      </mat-label>
      <mat-select
        formControlName="multipleCompanies"
        multiple
        data-aos="fade-up"
      >
        <mat-option *ngFor="let company of companies" [value]="company.name">{{
          company.name
        }}</mat-option>
      </mat-select>
    </mat-form-field>
    <mat-checkbox data-aos="fade-up" formControlName="myCompanyNotifications">{{
      'MY_ACCOUNT.COMPANY_REVIEWED_NOT' | translate
    }}</mat-checkbox>
    <mat-checkbox
      data-aos="fade-up"
      formControlName="companyAddedNotification"
      >{{ 'MY_ACCOUNT.COMPANY_ADD_NOT' | translate }}</mat-checkbox
    >
    <hr />
    <!--Forgot Password -->

    <button
      data-aos="fade-up"
      (click)="toggleAccountDel()"
      class="btn btn-danger mt-4 mb-small btnDelete"
      mat-raised-button
    >
      {{ 'MY_ACCOUNT.DELETE_ACC_BTN' | translate }}
    </button>
    <!--Delete Account confirmation modal-->
    <div [@enterAnimation] class="dialog-container" *ngIf="delAccDialog">
      <div
        (clickOutside)="toggleAccountDel()"
        [exclude]="'.btnDelete'"
        [clickOutsideEvents]="'click,touchstart, scroll'"
      >
        <h5 mat-dialog-title>{{ 'CONFIRM_DIALOG.WARNING' | translate }}</h5>
        <h6>{{ 'CONFIRM_DIALOG.DELETE_Q' | translate }}</h6>
        <hr />
        <div mat-dialog-actions>
          <button
            class="mr-3"
            mat-raised-button
            color="primary"
            (click)="deleteAccountDialog()"
          >
            {{ 'CONFIRM_DIALOG.YES' | translate }}
          </button>
          <button (click)="toggleAccountDel()" mat-raised-button>
            {{ 'CONFIRM_DIALOG.CANCEL' | translate }}
          </button>
        </div>
      </div>
    </div>
  </form>
</div>
